<?php
//Ð¡Ð˜Ð”Ð•Ð  Ð”Ð›Ð¯ ÐÐÐŸÐžÐ›ÐÐ•ÐÐ˜Ð¯ Ð¢ÐÐ‘Ð›Ð˜Ð¦Ð« Ð–ÐÐÐ ÐžÐ’
namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\Genre;

class GenreSeeder extends Seeder
{

    public function run(): void
    {
        // Ð¡Ð¾Ð¾Ð±Ñ‰Ð°ÐµÐ¼ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ Ð¾ Ð½Ð°Ñ‡Ð°Ð»Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹
        $this->command->info('ðŸ“¦ Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¶Ð°Ð½Ñ€Ð¾Ð²...');

        // ============================================================
        // ÐœÐÐ¡Ð¡Ð˜Ð’ Ð–ÐÐÐ ÐžÐ’ Ð”Ð›Ð¯ Ð”ÐžÐ‘ÐÐ’Ð›Ð•ÐÐ˜Ð¯
        // ============================================================
        $genres = [
            // Ð–ÐÐÐ  1: RPG
            [
                'name' => 'RPG',                       // ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ
                'slug' => 'rpg',                       // URL
                'color' => '#28a745',                  // Ð—ÐµÐ»ÐµÐ½Ñ‹Ð¹ Ñ†Ð²ÐµÑ‚
                'icon' => 'âš”ï¸',                       // Ð˜ÐºÐ¾Ð½ÐºÐ° - Ð¼ÐµÑ‡Ð¸
                'description' => 'Ð Ð¾Ð»ÐµÐ²Ñ‹Ðµ Ð¸Ð³Ñ€Ñ‹ Ñ Ð³Ð»ÑƒÐ±Ð¾ÐºÐ¸Ð¼ ÑÑŽÐ¶ÐµÑ‚Ð¾Ð¼',
                'sort_order' => 1,                     // Ð‘ÑƒÐ´ÐµÑ‚ Ð¿ÐµÑ€Ð²Ñ‹Ð¼ Ð² ÑÐ¿Ð¸ÑÐºÐµ
                'is_active' => true                    // ÐÐºÑ‚Ð¸Ð²ÐµÐ½ (Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ Ð½Ð° ÑÐ°Ð¹Ñ‚Ðµ)
            ],

            // Ð–ÐÐÐ  2: Ð¨ÑƒÑ‚ÐµÑ€
            [
                'name' => 'Ð¨ÑƒÑ‚ÐµÑ€',
                'slug' => 'shooter',
                'color' => '#dc3545',                   // ÐšÑ€Ð°ÑÐ½Ñ‹Ð¹ Ñ†Ð²ÐµÑ‚
                'icon' => 'ðŸ”«',                        // Ð˜ÐºÐ¾Ð½ÐºÐ° - Ð¿Ð¸ÑÑ‚Ð¾Ð»ÐµÑ‚
                'description' => 'Ð˜Ð³Ñ€Ñ‹ Ñ Ð°ÐºÑ†ÐµÐ½Ñ‚Ð¾Ð¼ Ð½Ð° ÑÑ‚Ñ€ÐµÐ»ÑŒÐ±Ñƒ',
                'sort_order' => 2,                     // Ð’Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð² ÑÐ¿Ð¸ÑÐºÐµ
                'is_active' => true
            ],

            // Ð–ÐÐÐ  3: Ð¡Ñ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ
            [
                'name' => 'Ð¡Ñ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ',
                'slug' => 'strategy',
                'color' => '#007bff',                 // Ð¡Ð¸Ð½Ð¸Ð¹ Ñ†Ð²ÐµÑ‚
                'icon' => 'â™Ÿï¸',                        // Ð˜ÐºÐ¾Ð½ÐºÐ° - ÑˆÐ°Ñ…Ð¼Ð°Ñ‚Ð½Ð°Ñ Ð¿ÐµÑˆÐºÐ°
                'description' => 'Ð˜Ð³Ñ€Ñ‹, Ñ‚Ñ€ÐµÐ±ÑƒÑŽÑ‰Ð¸Ðµ Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ',
                'sort_order' => 3,                     // Ð¢Ñ€ÐµÑ‚Ð¸Ð¹ Ð² ÑÐ¿Ð¸ÑÐºÐµ
                'is_active' => true
            ],
        ];

        // ============================================================
        // Ð¡ÐžÐ—Ð”ÐÐ•Ðœ ÐšÐÐ–Ð”Ð«Ð™ Ð–ÐÐÐ  Ð’ Ð‘ÐÐ—Ð• Ð”ÐÐÐÐ«Ð¥
        // ============================================================

        // ÐŸÑ€Ð¾Ñ…Ð¾Ð´Ð¸Ð¼ Ð¿Ð¾ Ð²ÑÐµÐ¼ Ð¶Ð°Ð½Ñ€Ð°Ð¼ Ð¸Ð· Ð¼Ð°ÑÑÐ¸Ð²Ð°
        foreach ($genres as $genreData) {

            /**
             * updateOrCreate - Ð¸Ð»Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ, Ð¸Ð»Ð¸ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ
             *
             * 1 Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ ['slug' => $genreData['slug']] - Ð¸Ñ‰ÐµÐ¼ Ð¶Ð°Ð½Ñ€ Ð¿Ð¾ slug
             * 2 Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ $genreData - Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ/Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ
             *
             * Ð•ÑÐ»Ð¸ Ð¶Ð°Ð½Ñ€ Ñ Ñ‚Ð°ÐºÐ¸Ð¼ slug ÑƒÐ¶Ðµ ÐµÑÑ‚ÑŒ - Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ ÐµÐ³Ð¾ Ð´Ð°Ð½Ð½Ñ‹Ðµ
             * Ð•ÑÐ»Ð¸ Ð½ÐµÑ‚ - ÑÐ¾Ð·Ð´Ð°ÐµÐ¼ Ð½Ð¾Ð²Ñ‹Ð¹
             */
            Genre::updateOrCreate(
                ['slug' => $genreData['slug']],    // ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¹ Ð¿Ð¾Ð¸ÑÐºÐ°
                $genreData                           // Ð”Ð°Ð½Ð½Ñ‹Ðµ
            );

            // Ð¡Ð¾Ð¾Ð±Ñ‰Ð°ÐµÐ¼ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð¶Ð°Ð½Ñ€Ð°
            $this->command->info("   âœ… Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ Ð¶Ð°Ð½Ñ€: {$genreData['name']}");
        }

        // Ð¡Ð¾Ð¾Ð±Ñ‰Ð°ÐµÐ¼, Ñ‡Ñ‚Ð¾ Ð²ÑÑ‘ Ð³Ð¾Ñ‚Ð¾Ð²Ð¾
        $this->command->info('âœ… Ð–Ð°Ð½Ñ€Ñ‹ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹!');
    }
}
