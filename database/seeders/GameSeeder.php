<?php
//Ð¡Ð˜Ð”Ð•Ð  Ð”Ð›Ð¯ ÐÐÐŸÐžÐ›ÐÐ•ÐÐ˜Ð¯ Ð¢ÐÐ‘Ð›Ð˜Ð¦Ð« Ð˜Ð“Ð 
namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\Game;
use Illuminate\Support\Str;          // Ð”Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ ÑÐ¾ ÑÑ‚Ñ€Ð¾ÐºÐ°Ð¼Ð¸ (Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ, Ð½Ð¾ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½)

class GameSeeder extends Seeder
{

    public function run(): void
    {
        // Ð¡Ð¾Ð¾Ð±Ñ‰Ð°ÐµÐ¼ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ Ð¾ Ð½Ð°Ñ‡Ð°Ð»Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹
        $this->command->info('ðŸ•¹ï¸ Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¸Ð³Ñ€...');

        // ============================================================
        // ÐœÐÐ¡Ð¡Ð˜Ð’ Ð˜Ð“Ð  Ð”Ð›Ð¯ Ð”ÐžÐ‘ÐÐ’Ð›Ð•ÐÐ˜Ð¯
        // ============================================================
        $games = [
            // Ð˜Ð“Ð Ð 1: Super Mario Bros (1985)
            [
                'title' => 'Super Mario Bros',
                'slug' => 'super-mario-bros',              // URL Ð¸Ð³Ñ€Ñ‹
                'release_year' => 1985,
                'developer' => 'Nintendo',                   // Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº
                'publisher' => 'Nintendo',                   // Ð˜Ð·Ð´Ð°Ñ‚ÐµÐ»ÑŒ
                'description' => 'ÐšÐ»Ð°ÑÑÐ¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼ÐµÑ€, Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ð²ÑˆÐ¸Ð¹ Ð¶Ð°Ð½Ñ€ Ð½Ð° Ð´ÐµÑÑÑ‚Ð¸Ð»ÐµÑ‚Ð¸Ñ Ð²Ð¿ÐµÑ€ÐµÐ´.',
                'short_description' => 'ÐšÐ»Ð°ÑÑÐ¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼ÐµÑ€',  // ÐšÑ€Ð°Ñ‚ÐºÐ¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ
                'platform' => 'NES, SNES, Game Boy',         // ÐÐ° ÐºÐ°ÐºÐ¸Ñ… Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð°Ñ… Ð²Ñ‹ÑˆÐ»Ð°
                'genre_id' => 1,                              // ID Ð¶Ð°Ð½Ñ€Ð° (1 = RPG)
            ],

            // Ð˜Ð“Ð Ð 2: DOOM (1993)
            [
                'title' => 'Doom',
                'slug' => 'doom',
                'release_year' => 1993,
                'developer' => 'id Software',
                'publisher' => 'id Software',
                'description' => 'ÐŸÐµÑ€Ð²Ñ‹Ð¹ 3D-ÑˆÑƒÑ‚ÐµÑ€, ÑÑ‚Ð°Ð²ÑˆÐ¸Ð¹ ÑÑ‚Ð°Ð»Ð¾Ð½Ð¾Ð¼ Ð¶Ð°Ð½Ñ€Ð°.',
                'short_description' => 'ÐšÑƒÐ»ÑŒÑ‚Ð¾Ð²Ñ‹Ð¹ 3D-ÑˆÑƒÑ‚ÐµÑ€',
                'platform' => 'PC, PS4, Xbox, Nintendo Switch',
                'genre_id' => 2,                              // 2 = Ð¨ÑƒÑ‚ÐµÑ€
            ],

            // Ð˜Ð“Ð Ð 3: StarCraft (1998)
            [
                'title' => 'StarCraft',
                'slug' => 'starcraft',
                'release_year' => 1998,
                'developer' => 'Blizzard Entertainment',
                'publisher' => 'Blizzard Entertainment',
                'description' => 'ÐšÐ¾ÑÐ¼Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸.',
                'short_description' => 'ÐšÐ¾ÑÐ¼Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ',
                'platform' => 'PC',
                'genre_id' => 3,                              // 3 = Ð¡Ñ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ
            ],

            // Ð˜Ð“Ð Ð 4: Half-Life (1998)
            [
                'title' => 'Half-Life',
                'slug' => 'half-life',
                'release_year' => 1998,
                'developer' => 'Valve Corporation',
                'publisher' => 'Sierra Studios',
                'description' => 'ÐÐ°ÑƒÑ‡Ð½Ð¾-Ñ„Ð°Ð½Ñ‚Ð°ÑÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑˆÑƒÑ‚ÐµÑ€, Ð¿ÐµÑ€ÐµÐ²ÐµÑ€Ð½ÑƒÐ²ÑˆÐ¸Ð¹ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¾ Ð¿Ð¾Ð²ÐµÑÑ‚Ð²Ð¾Ð²Ð°Ð½Ð¸Ð¸.',
                'short_description' => 'Ð ÐµÐ²Ð¾Ð»ÑŽÑ†Ð¸Ð¾Ð½Ð½Ñ‹Ð¹ ÑˆÑƒÑ‚ÐµÑ€',
                'platform' => 'PC, PS2',
                'genre_id' => 2,                              // 2 = Ð¨ÑƒÑ‚ÐµÑ€
            ],

            // Ð˜Ð“Ð Ð 5: Ð’ÐµÐ´ÑŒÐ¼Ð°Ðº 3 (2015)
            [
                'title' => 'The Witcher 3: Wild Hunt',
                'slug' => 'witcher-3',
                'release_year' => 2015,
                'developer' => 'CD Projekt Red',
                'publisher' => 'CD Projekt',
                'description' => 'Ð Ð¾Ð»ÐµÐ²Ð°Ñ Ð¸Ð³Ñ€Ð° Ñ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ñ‹Ð¼ Ð¼Ð¸Ñ€Ð¾Ð¼.',
                'short_description' => 'Ð¨ÐµÐ´ÐµÐ²Ñ€ RPG',
                'platform' => 'PC, PS4, PS5, Xbox, Switch',
                'genre_id' => 1,                              // 1 = RPG
            ],
        ];

        // ============================================================
        // Ð¡ÐžÐ—Ð”ÐÐ•Ðœ ÐšÐÐ–Ð”Ð£Ð® Ð˜Ð“Ð Ð£ Ð’ Ð‘ÐÐ—Ð• Ð”ÐÐÐÐ«Ð¥
        // ============================================================

        // ÐŸÑ€Ð¾Ñ…Ð¾Ð´Ð¸Ð¼ Ð¿Ð¾ Ð²ÑÐµÐ¼ Ð¸Ð³Ñ€Ð°Ð¼ Ð¸Ð· Ð¼Ð°ÑÑÐ¸Ð²Ð°
        foreach ($games as $gameData) {

            /**
             * updateOrCreate - Ð¸Ð»Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ, Ð¸Ð»Ð¸ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ
             *
             * 1 Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ ['slug' => $gameData['slug']] - Ð¸Ñ‰ÐµÐ¼ Ð¸Ð³Ñ€Ñƒ Ð¿Ð¾ slug
             * 2 Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ $gameData - Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ/Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ
             *
             * Ð•ÑÐ»Ð¸ Ð¸Ð³Ñ€Ð° Ñ Ñ‚Ð°ÐºÐ¸Ð¼ slug ÑƒÐ¶Ðµ ÐµÑÑ‚ÑŒ - Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ ÐµÐµ Ð´Ð°Ð½Ð½Ñ‹Ðµ
             * Ð•ÑÐ»Ð¸ Ð½ÐµÑ‚ - ÑÐ¾Ð·Ð´Ð°ÐµÐ¼ Ð½Ð¾Ð²ÑƒÑŽ
             */
            Game::updateOrCreate(
                ['slug' => $gameData['slug']],    // ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¹ Ð¿Ð¾Ð¸ÑÐºÐ°
                $gameData                           // Ð”Ð°Ð½Ð½Ñ‹Ðµ
            );

            // Ð¡Ð¾Ð¾Ð±Ñ‰Ð°ÐµÐ¼ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ ÐºÐ°Ð¶Ð´Ð¾Ð¹ Ð¸Ð³Ñ€Ñ‹
            $this->command->info("   âœ… Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð° Ð¸Ð³Ñ€Ð°: {$gameData['title']}");
        }

        // Ð¡Ð¾Ð¾Ð±Ñ‰Ð°ÐµÐ¼, Ñ‡Ñ‚Ð¾ Ð²ÑÑ‘ Ð³Ð¾Ñ‚Ð¾Ð²Ð¾
        $this->command->info('âœ… Ð˜Ð³Ñ€Ñ‹ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹!');
    }
}
